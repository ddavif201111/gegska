<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #050505; color: white; font-family: sans-serif; text-align: center; margin: 0; overflow: hidden; touch-action: manipulation; }
        .bg { position: fixed; top: 0; width: 100%; height: 100%; background: radial-gradient(circle at 50% 20%, #1e0044 0%, transparent 50%); z-index: -1; }
        #bal { font-size: 60px; font-weight: 900; color: #f1c40f; margin: 20px 0; text-shadow: 0 0 20px rgba(241,196,15,0.5); }
        #coin {
            width: 240px; height: 240px; border-radius: 50%;
            background: linear-gradient(145deg, #1a1a1a, #000);
            display: inline-flex; align-items: center; justify-content: center;
            font-size: 100px; border: 4px solid #7000ff;
            box-shadow: 0 0 30px rgba(112,0,255,0.3);
            cursor: pointer; transition: transform 0.05s;
            -webkit-user-select: none; user-select: none;
        }
        #coin:active { transform: scale(0.95); }
        .panel { background: rgba(255,255,255,0.05); border-radius: 20px; width: 80%; margin: 20px auto; padding: 15px; border: 1px solid rgba(255,255,255,0.1); }
        .bar { background: #111; height: 10px; border-radius: 5px; margin-top: 10px; overflow: hidden; }
        #fill { background: linear-gradient(90deg, #00f2ff, #7000ff); height: 100%; width: 100%; }
        
        .nav { position: fixed; bottom: 0; width: 100%; display: flex; background: #111; padding: 10px 0; border-top: 1px solid #333; }
        .nav button { flex: 1; background: none; border: none; color: #888; font-weight: bold; font-size: 14px; }
        .nav button.active { color: #00f2ff; }
        
        .page { display: none; padding-top: 20px; }
        .page.active { display: block; }
        .quest-item { background: rgba(255,255,255,0.07); margin: 10px 20px; padding: 15px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; }
        .btn-q { background: #00f2ff; color: #000; border: none; padding: 10px 15px; border-radius: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="bg"></div>

    <div id="game-p" class="page active">
        <div id="bal">0</div>
        <div id="coin">üêπ</div>
        <div class="panel">
            <div style="display:flex; justify-content:space-between; font-size:12px"><span>‚ö° –ï–ù–ï–†–ì–Ü–Ø</span><span id="en-txt">500</span></div>
            <div class="bar"><div id="fill"></div></div>
        </div>
    </div>

    <div id="quest-p" class="page">
        <h2 style="color: #00f2ff">–ö–í–ï–°–¢–ò</h2>
        <div class="quest-item">
            <div style="text-align:left"><b>–ü—ñ–¥–ø–∏—Å–∫–∞</b><br><small>+50,000 –º–æ–Ω–µ—Ç</small></div>
            <button class="btn-q" onclick="window.open('–¢–í–û–Ñ_–ü–û–°–ò–õ–ê–ù–ù–Ø', '_blank')">–ô–¢–ò</button>
        </div>
    </div>

    <div class="nav">
        <button id="b-game" class="active" onclick="show('game')">–ì–†–ê</button>
        <button id="b-quest" onclick="show('quest')">–ö–í–ï–°–¢–ò</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let c = parseInt(localStorage.getItem('c')) || 0;
        let mt = 1; let en = 500; let maxEn = 500;

        function upd() {
            document.getElementById('bal').innerText = c.toLocaleString();
            document.getElementById('en-txt').innerText = en;
            document.getElementById('fill').style.width = (en/maxEn*100) + "%";
            localStorage.setItem('c', c);
        }

        const coinEl = document.getElementById('coin');
        function doTap(e) {
            if (e) e.preventDefault();
            if (en >= mt) {
                c += mt; en -= mt;
                tg.HapticFeedback.impactOccurred('light');
                upd();
            }
        }

        coinEl.addEventListener('touchstart', doTap);
        coinEl.onclick = doTap;function show(p) {
            document.querySelectorAll('.page').forEach(x => x.classList.remove('active'));
            document.querySelectorAll('.nav button').forEach(x => x.classList.remove('active'));
            document.getElementById(p + '-p').classList.add('active');
            document.getElementById('b-' + p).classList.add('active');
        }

        setInterval(() => { if(en < maxEn){ en++; upd(); } }, 1000);
        upd();
    </script>
</body>
</html>
